{"version":3,"sources":["../../src/bin/index.js"],"names":[],"mappings":";;;;;;AAKA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAPA,QAAQ,mBAAR,EAA6B,QAA7B;;AASA,IAAM,mBAAmB,QAAQ,GAAR,EAAzB;;AAEA,oBACG,OADH,cACsB,kBAAS,OAD/B,EAEG,OAFH,CAEW,YAFX,EAEyB,6CAFzB,EAEwE,UAAS,OAAT,EAAkB,IAAlB,EAAwB;AAC5F,0BAAU,eAAK,IAAL,CAAU,gBAAV,EAA4B,IAA5B,CAAV,EAA6C,UAAS,MAAT,EAAiB;AAC5D,WAAO,OAAO,IAAP,GAAc,IAAd,CAAmB,YAAW;AACnC,cAAQ,GAAR,0CACI,gBAAM,KAAN,CAAY,iCAAZ,CADJ,EAEI,gBAAM,MAAN,CAAa,mCAAb,CAFJ,EAGW,IAHX;AAMD,KAPM,CAAP;AAQD,GATD;AAUD,CAbH,EAcG,OAdH,CAcW,OAdX,EAcoB,4CAdpB,EAckE,YAAW;AACzE,0BAAU,gBAAV,EAA4B,UAAS,MAAT,EAAiB;AAC3C;AACA,WAAO,OAAO,KAAP,CAAa,QAAQ,MAAR,CAAe,KAA5B,EAAmC,IAAnC,CAAwC,YAAW;AACxD,cAAQ,GAAR,2CACI,gBAAM,KAAN,CAAY,wBAAZ,CADJ,EAGW,eAAK,QAAL,CAAc,gBAAd,EAAgC,OAAO,MAAP,CAAc,kBAAd,EAAhC,CAHX;AAKD,KANM,CAAP;AAOD,GATD;AAUD,CAzBH,EA0BG,OA1BH,CA0BW,OA1BX,EA0BoB,oEA1BpB,EA0B0F,YAAW;AACjG,0BAAU,gBAAV,EAA4B,UAAS,MAAT,EAAiB;AAC3C;AACA,WAAO,OAAO,KAAP,CAAa,QAAQ,MAAR,CAAe,KAA5B,CAAP;AACD,GAHD;AAID,CA/BH,EAgCG,OAhCH,CAgCW,MAhCX,EAgCmB,2DAhCnB,EAgCgF,YAAW;AACvF,0BAAU,gBAAV,EAA4B,UAAS,MAAT,EAAiB;AAC3C,WAAO,OAAO,IAAP,GAAc,IAAd,CAAmB,YAAW;AACnC,cAAQ,GAAR,2CACI,gBAAM,KAAN,CAAY,wCAAZ,CADJ,EAEI,gBAAM,MAAN,CAAa,mCAAb,CAFJ;AAKD,KANM,CAAP;AAOD,GARD;AASD,CA1CH,EA2CG,OA3CH,CA2CW,UAAS,CAAT,EAAyB;AAChC,MAAI,uDAAoB,CAAxB,EAA2B;AACzB,wBAAQ,QAAR;AACA,YAAQ,IAAR,CAAa,CAAb;AACD;AACD,0BAAU,gBAAV,EAA4B,UAAS,MAAT,EAAiB;AAC3C;AACA,WAAO,OAAO,KAAP,CAAa,QAAQ,MAAR,CAAe,KAA5B,CAAP;AACD,GAHD;AAID,CApDH,EAqDG,KArDH,CAqDS,QAAQ,IArDjB","file":"index.js","sourcesContent":["\n/* @flow */\n\nrequire('process-bootstrap')('motion')\n\nimport Path from 'path'\nimport chalk from 'chalk'\nimport command from 'sb-command'\nimport coolTrim from 'cool-trim'\nimport manifest from '../../package.json'\nimport { getMotion } from './helpers'\n\nconst currentDirectory = process.cwd()\n\ncommand\n  .version(`Motion v${manifest.version}`)\n  .command('new <name>', 'Create a new motion app with the given name', function(options, name) {\n    getMotion(Path.join(currentDirectory, name), function(motion) {\n      return motion.init().then(function() {\n        console.log(coolTrim`\n          ${chalk.green('App created successfully! Enjoy')}\n          ${chalk.yellow('To run motion in your new app, do')}\n            $ cd ${name}\n            $ motion\n        `)\n      })\n    })\n  })\n  .command('build', 'Build dist files of the current motion app', function() {\n    getMotion(currentDirectory, function(motion) {\n      // $FlowIgnore: Flow doesn't recognize this prop\n      return motion.build(process.stdout.isTTY).then(function() {\n        console.log(coolTrim`\n          ${chalk.green('App built successfully')}\n          To access the built files, do\n            $ cd ${Path.relative(currentDirectory, motion.config.getPublicDirectory())}\n        `)\n      })\n    })\n  })\n  .command('watch', 'Make the Motion CLI run Dev server and watch the files for changes', function() {\n    getMotion(currentDirectory, function(motion) {\n      // $FlowIgnore: Flow doesn't recognize this prop\n      return motion.watch(process.stdout.isTTY)\n    })\n  })\n  .command('init', 'Copy motion configuation files into the current directory', function() {\n    getMotion(currentDirectory, function(motion) {\n      return motion.init().then(function() {\n        console.log(coolTrim`\n          ${chalk.green('Motion initialized successfully! Enjoy')}\n          ${chalk.yellow('To run motion in your new app, do')}\n            $ motion\n        `)\n      })\n    })\n  })\n  .default(function(_, ...commands) {\n    if (commands.length !== 0) {\n      command.showHelp()\n      process.exit(1)\n    }\n    getMotion(currentDirectory, function(motion) {\n      // $FlowIgnore: Flow doesn't recognize this prop\n      return motion.watch(process.stdout.isTTY)\n    })\n  })\n  .parse(process.argv)\n"]}